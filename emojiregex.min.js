function emojiRegex(n){function u(n){if(n=parseInt(n,16),n>=65536&&n<=1114111){var t=Math.floor((n-65536)/1024)+55296,i=(n-65536)%1024+56320;return[t.toString(16).toUpperCase(),i.toString(16).toUpperCase()]}return!1}var f,i="",t=[],r=new XMLHttpRequest;return r.open("GET","http://www.unicode.org/Public/emoji/latest/emoji-data.txt",!1),r.onreadystatechange=function(){var o,e,s,h;if(r.readyState===4&&(r.status===200||r.status===0)){for(o=r.responseText,o=o.replace(/^#.*?\n/gm,""),o=o.replace(/;.*?\n/gm,"||"),o=o.replace(/\n/gm,""),t=o.split("||"),t.pop(),e=0;e<t.length;e++)t[e]=t[e].trim();for(console.log(t),n===1&&(i+="(?:\\u0023|\\u002A|[\\u0030-\\u0039])"),e=0;e<t.length;e++){if(t[e].length===4)i+="\\u"+t[e];else if(t[e].length===5)s=u(t[e]),i+="\\u"+s[0]+"\\u"+s[1];else if(t[e].length===10)h=t[e].split(".."),i+="[\\u"+h[0]+"-\\u"+h[1]+"]";else{var c=t[e].split(".."),l=u(c[0]),a=u(c[1]);i+="\\u"+l[0]+"[\\u"+l[1]+"-\\u"+a[1]+"]"}e<t.length-1&&(i+="|")}f=new RegExp(i,"gmi")}},r.send(),f}